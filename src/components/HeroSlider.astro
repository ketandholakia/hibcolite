---
// src/components/HeroSlider.astro
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';
import { Image } from 'astro:assets';
import banner01 from '../assets/img/banner01.jpg';
import banner02 from '../assets/img/banner02.jpg';

// Define your slide data here.
const slides = [
  {
    // Local Image
    title: "Premium Moulding Powders",
    description: "High-quality Phenolic Moulding Compounds for diverse industrial applications.",
    image: banner01,
  },
  {
    // Unsplash Image: Code / Technology
    // Local Image
    title: "Excellence in Thermosets",
    description: "Innovative solutions and sustainable practices for a better future.",
    image: banner02,
  }
  
];

const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : `${import.meta.env.BASE_URL}/`;
---

<div class="swiper mySwiper h-[500px] md:h-[600px] w-full bg-gray-900">
  <div class="swiper-wrapper">
    
    {slides.map((slide) => (
      <div class="swiper-slide relative flex items-center justify-center overflow-hidden">
        
        <Image 
            src={slide.image} 
            alt={slide.title || "Hero Slider Image"}
            class="absolute inset-0 w-full h-full object-cover object-center"
        />

        <div class="relative z-10 text-center px-4 max-w-3xl mx-auto">
          <h2 class="text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg">
            {slide.title}
          </h2>
          <p class="text-lg md:text-xl text-gray-200 mb-8 drop-shadow-md">
            {slide.description}
          </p>
          <a href={`${base}contact-us`} class="inline-block px-8 py-3 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition transform hover:-translate-y-1 shadow-lg hover:shadow-blue-600/30">
            Get Started
          </a>
        </div>

      </div>
    ))}
  </div>
  
  <button class="swiper-button-prev text-white/70 hover:text-white transition hidden md:flex absolute top-1/2 left-4 z-20 -translate-y-1/2 w-12 h-12 bg-black/30 hover:bg-blue-600/80 rounded-full items-center justify-center backdrop-blur-sm">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
    </svg>
  </button>
  <button class="swiper-button-next text-white/70 hover:text-white transition hidden md:flex absolute top-1/2 right-4 z-20 -translate-y-1/2 w-12 h-12 bg-black/30 hover:bg-blue-600/80 rounded-full items-center justify-center backdrop-blur-sm">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
    </svg>
  </button>

  <div class="swiper-pagination !bottom-8"></div>
</div>

<script>
  import Swiper from 'swiper';
  import { Navigation, Pagination, Autoplay, EffectFade } from 'swiper/modules';

  const swiper = new Swiper(".mySwiper", {
    modules: [Navigation, Pagination, Autoplay, EffectFade],
    loop: true, 
    speed: 800, 
    
    autoplay: {
        delay: 5000, 
        disableOnInteraction: false,
    },

    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },

    pagination: {
      el: ".swiper-pagination",
      clickable: true,
      renderBullet: function (index, className) {
        return '<span class="' + className + ' !bg-white !opacity-60 hover:!opacity-100 !w-3 !h-3"></span>';
      },
    },
  });
</script>

<style>
    /* CSS Variables for Tailwind v4 compatibility */
    .swiper-pagination-bullet-active {
        background-color: var(--color-blue-600) !important;
        opacity: 1 !important;
        width: 1.5rem !important;
        transition: all 0.3s ease !important;
    }
</style>