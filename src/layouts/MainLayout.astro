---
// src/layouts/MainLayout.astro
import Navbar from '../components/Navbar.astro';
import '../styles/global.css';
import { SEO } from 'astro-seo'; // Import the component
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description?: string;
  image?: string;
  noindex?: boolean; // Useful for internal pages like '404' or 'Login'
}

const { 
  title, 
  description = "Leading manufacturer of Phenolic Moulding Compounds and industrial materials.", 
  image = "/img/logo.png",
  noindex = false
} = Astro.props;

// Prepare the image URL ensuring it is absolute
const socialImageURL = new URL(image, Astro.site || 'https://hibcolite.com').href;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <SEO
      title={title}
      description={description}
      noindex={noindex}
      
      openGraph={{
        basic: {
          title: title,
          type: "website",
          image: socialImageURL,
        }
      }}
      
      twitter={{
        creator: "@hibcolite", // Optional: Your Twitter handle
        card: "summary_large_image",
      }}

      extend={{
        // Add any custom tags that astro-seo doesn't cover by default
        link: [{ rel: "icon", href: "/favicon.svg" }],
        meta: [],
      }}
    />

    <slot name="head" />
  </head>
  
  <body class="bg-gray-50 text-gray-900 flex flex-col min-h-screen">
    
    <Navbar />

    <slot name="before-main" />

    <main class="flex-grow max-w-7xl w-full mx-auto px-4 py-8">
      <slot />
    </main>

    <Footer />

  </body>
</html>